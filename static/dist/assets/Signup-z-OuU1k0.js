import{e as h,r as l,o as y,x,h as m,j as s,i as P,t as c,y as _,z as u,A as i,l as b,w as S,m as k,s as C,g as w}from"./vendor-ct0Dgaa7.js";import{u as M,a as V}from"./index-vE_pF-Xr.js";import"./utils-NIGUFBhG.js";const A={class:"login-container"},U={class:"login-box"},B={key:0,class:"error-message"},N={class:"input-group"},j={class:"input-group"},q={class:"input-group"},T=["disabled"],z={class:"extra-links"},R=h({__name:"Signup",setup(D){const d=x(),p=M(),{success:v}=V(),o=l({username:"",password:"",confirmPassword:""}),a=l(""),t=l(!1),f=async()=>{if(a.value="",!o.value.username||!o.value.password||!o.value.confirmPassword){a.value="Please fill in all fields";return}if(o.value.password!==o.value.confirmPassword){a.value="Passwords do not match";return}if(o.value.password.length<8){a.value="Password must be at least 8 characters long";return}t.value=!0;try{await p.signup({username:o.value.username,password:o.value.password,confirm_password:o.value.confirmPassword}),v("Signup successful!","Please log in with your new account."),d.push("/login?message=Signup successful! Please log in.")}catch(n){n.message.includes("already exists")?a.value="Username already exists":a.value=n.message||"Signup failed. Please try again."}finally{t.value=!1}};return y(()=>{p.isAuthenticated&&d.push("/dashboard")}),(n,e)=>{const g=k("router-link");return w(),m("div",A,[s("div",U,[e[7]||(e[7]=s("div",{class:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center mx-auto mb-6"},[s("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),e[8]||(e[8]=s("h2",null,"Create Your Account",-1)),a.value?(w(),m("div",B,c(a.value),1)):P("",!0),s("form",{onSubmit:_(f,["prevent"])},[s("div",N,[e[3]||(e[3]=s("label",{for:"username"},"Username",-1)),u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.username=r),type:"text",id:"username",name:"username",required:"",autocomplete:"username"},null,512),[[i,o.value.username]])]),s("div",j,[e[4]||(e[4]=s("label",{for:"password"},"Password",-1)),u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.value.password=r),type:"password",id:"password",name:"password",required:"",autocomplete:"new-password"},null,512),[[i,o.value.password]])]),s("div",q,[e[5]||(e[5]=s("label",{for:"confirm_password"},"Confirm Password",-1)),u(s("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.value.confirmPassword=r),type:"password",id:"confirm_password",name:"confirm_password",required:"",autocomplete:"new-password"},null,512),[[i,o.value.confirmPassword]])]),s("button",{type:"submit",disabled:t.value},c(t.value?"Creating Account...":"Sign Up"),9,T)],32),s("div",z,[b(g,{to:"/login"},{default:S(()=>[...e[6]||(e[6]=[C("Already have an account? Sign In",-1)])]),_:1})])])])}}});export{R as default};
