import{e as M,r,o as z,f as b,w as i,j as s,l as c,z as C,D as I,h as n,k as v,F as _,n as d,t as a,E as A,g as l}from"./vendor-ct0Dgaa7.js";import{b as w,a as U}from"./index-vE_pF-Xr.js";import{_ as R}from"./BaseLayout.vue_vue_type_script_setup_true_lang-D6k48umn.js";import{_ as m}from"./BaseCard.vue_vue_type_script_setup_true_lang-TVPlXeRZ.js";import{_ as T}from"./BaseInput.vue_vue_type_script_setup_true_lang-D9I1de4X.js";import{_ as V}from"./StatCard.vue_vue_type_script_setup_true_lang-CLjUR74-.js";import"./utils-NIGUFBhG.js";const B={class:"mb-8"},$={class:"flex items-center justify-between"},E={class:"flex items-center space-x-4"},F={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Q={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},H={class:"card-body"},N={class:"h-80 flex items-center justify-center"},q={key:0,class:"text-center"},G={key:1,class:"text-center text-gray-500"},O={class:"card-body"},P={class:"h-80 flex items-center justify-center"},W={key:0,class:"text-center"},J={key:1,class:"text-center text-gray-500"},K={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},X={class:"card-body"},Y={class:"space-y-3"},Z={class:"flex items-center space-x-3"},ss={class:"text-sm text-gray-900"},es={class:"text-sm font-medium text-gray-900"},ts={class:"card-header"},as={class:"flex items-center justify-between"},ls={class:"flex items-center space-x-4"},os={class:"overflow-x-auto"},ns={class:"table"},rs={class:"table-body"},is={key:0,class:"table-row"},cs={class:"table-cell"},ds={class:"text-sm font-medium text-gray-900"},ms={class:"text-sm text-gray-500"},us={class:"table-cell"},gs={class:"text-sm text-gray-900"},xs={class:"table-cell"},vs={class:"text-sm text-gray-900"},_s={class:"table-cell"},hs={class:"text-sm text-gray-900"},ps={class:"table-cell"},ys={class:"text-sm text-gray-900"},fs={class:"table-cell"},bs={class:"flex items-center"},ws={class:"text-sm text-gray-900 mr-2"},ks={class:"w-16 bg-gray-200 rounded-full h-2"},Ss="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",Ds="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z",js="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",Ls="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",Vs=M({__name:"Analytics",setup(Ms){const{error:k}=U(),u=r("30"),h=r(""),g=r(!1),x=r(!1),p=r([{key:"total_sessions",title:"Total Sessions",value:0,period:"In the last 30 days",loading:!0,icon:js,trend:null},{key:"unique_users",title:"Unique Users",value:0,period:"In the last 30 days",loading:!0,icon:Ds,trend:null},{key:"avg_response_time",title:"Avg Response Time",value:0,period:"In the last 30 days",loading:!0,icon:Ls,trend:null},{key:"satisfaction_score",title:"Satisfaction Score",value:0,period:"In the last 30 days",loading:!0,icon:Ss,trend:null}]),S=r([{name:"General Support",percentage:35,color:"bg-primary-500"},{name:"Product Information",percentage:28,color:"bg-success-500"},{name:"Technical Issues",percentage:20,color:"bg-warning-500"},{name:"Billing Questions",percentage:12,color:"bg-error-500"},{name:"Other",percentage:5,color:"bg-gray-500"}]),y=r([{date:"2024-01-15",sessions:145,sessions_growth:12,users:98,users_growth:8,messages:892,messages_growth:15,avg_response_time:2.3,response_time_trend:-5,satisfaction:87},{date:"2024-01-14",sessions:132,sessions_growth:-3,users:89,users_growth:12,messages:756,messages_growth:8,avg_response_time:2.1,response_time_trend:-8,satisfaction:91},{date:"2024-01-13",sessions:128,sessions_growth:5,users:85,users_growth:-2,messages:689,messages_growth:2,avg_response_time:2.4,response_time_trend:3,satisfaction:84}]),f=async()=>{g.value=!0,x.value=!0;try{const o=await w.get(`/analytics/metrics?days=${u.value}`);p.value.forEach(e=>{e.loading=!1,e.value=o[e.key]||0,e.period=`In the last ${u.value} days`});const t=await w.get(`/analytics/daily?days=${u.value}`);y.value=t}catch(o){k("Failed to load analytics",o.message)}finally{g.value=!1,x.value=!1}},D=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),j=o=>new Date(o).toLocaleDateString("en-US",{weekday:"short"}),L=o=>o>=80?"bg-success-500":o>=60?"bg-warning-500":"bg-error-500";return z(()=>{f()}),(o,t)=>(l(),b(R,null,{default:i(()=>[s("div",B,[s("div",$,[t[3]||(t[3]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"Analytics"),s("p",{class:"mt-2 text-gray-600"},"Deep insights into your AI chatbot's performance and user engagement.")],-1)),s("div",E,[C(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),onChange:f,class:"form-select w-48"},[...t[2]||(t[2]=[s("option",{value:"7"},"Last 7 Days",-1),s("option",{value:"30"},"Last 30 Days",-1),s("option",{value:"90"},"Last 90 Days",-1),s("option",{value:"365"},"Last 365 Days",-1)])],544),[[I,u.value]])])])]),s("div",F,[(l(!0),n(_,null,v(p.value,e=>(l(),b(V,{key:e.key,title:e.title,value:e.value,period:e.period,loading:e.loading,icon:e.icon,trend:e.trend},null,8,["title","value","period","loading","icon","trend"]))),128))]),s("div",Q,[c(m,null,{default:i(()=>[t[6]||(t[6]=s("div",{class:"card-header"},[s("h3",{class:"text-lg font-semibold text-gray-900"},"Usage Trends"),s("p",{class:"text-sm text-gray-600 mt-1"},"Daily active users and session growth")],-1)),s("div",H,[s("div",N,[g.value?(l(),n("div",q,[...t[4]||(t[4]=[s("div",{class:"spinner w-8 h-8 mx-auto mb-4"},null,-1),s("p",{class:"text-sm text-gray-500"},"Loading chart data...",-1)])])):(l(),n("div",G,[...t[5]||(t[5]=[s("svg",{class:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),s("p",{class:"text-sm"},"Interactive charts will be implemented with Chart.js",-1)])]))])])]),_:1}),c(m,null,{default:i(()=>[t[9]||(t[9]=s("div",{class:"card-header"},[s("h3",{class:"text-lg font-semibold text-gray-900"},"Response Quality"),s("p",{class:"text-sm text-gray-600 mt-1"},"User satisfaction and response accuracy")],-1)),s("div",O,[s("div",P,[g.value?(l(),n("div",W,[...t[7]||(t[7]=[s("div",{class:"spinner w-8 h-8 mx-auto mb-4"},null,-1),s("p",{class:"text-sm text-gray-500"},"Loading chart data...",-1)])])):(l(),n("div",J,[...t[8]||(t[8]=[s("svg",{class:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),s("p",{class:"text-sm"},"Quality metrics visualization",-1)])]))])])]),_:1})]),s("div",K,[c(m,null,{default:i(()=>[...t[10]||(t[10]=[s("div",{class:"card-header"},[s("h3",{class:"text-lg font-semibold text-gray-900"},"Response Times"),s("p",{class:"text-sm text-gray-600 mt-1"},"Average AI response time")],-1),s("div",{class:"card-body"},[s("div",{class:"text-center"},[s("div",{class:"text-3xl font-bold text-primary-600 mb-2"},"2.3s"),s("div",{class:"text-sm text-gray-500 mb-4"},"Average response time"),s("div",{class:"space-y-2"},[s("div",{class:"flex justify-between text-sm"},[s("span",{class:"text-gray-600"},"Fast (<1s)"),s("span",{class:"text-success-600"},"45%")]),s("div",{class:"flex justify-between text-sm"},[s("span",{class:"text-gray-600"},"Normal (1-3s)"),s("span",{class:"text-primary-600"},"40%")]),s("div",{class:"flex justify-between text-sm"},[s("span",{class:"text-gray-600"},"Slow (>3s)"),s("span",{class:"text-warning-600"},"15%")])])])],-1)])]),_:1}),c(m,null,{default:i(()=>[...t[11]||(t[11]=[s("div",{class:"card-header"},[s("h3",{class:"text-lg font-semibold text-gray-900"},"User Engagement"),s("p",{class:"text-sm text-gray-600 mt-1"},"Session duration and interaction depth")],-1),s("div",{class:"card-body"},[s("div",{class:"space-y-4"},[s("div",{class:"flex justify-between items-center"},[s("span",{class:"text-sm text-gray-600"},"Avg Session Duration"),s("span",{class:"text-sm font-medium text-gray-900"},"4m 32s")]),s("div",{class:"flex justify-between items-center"},[s("span",{class:"text-sm text-gray-600"},"Messages per Session"),s("span",{class:"text-sm font-medium text-gray-900"},"6.8")]),s("div",{class:"flex justify-between items-center"},[s("span",{class:"text-sm text-gray-600"},"Return Rate"),s("span",{class:"text-sm font-medium text-gray-900"},"23%")]),s("div",{class:"flex justify-between items-center"},[s("span",{class:"text-sm text-gray-600"},"Completion Rate"),s("span",{class:"text-sm font-medium text-gray-900"},"78%")])])],-1)])]),_:1}),c(m,null,{default:i(()=>[t[12]||(t[12]=s("div",{class:"card-header"},[s("h3",{class:"text-lg font-semibold text-gray-900"},"Top Topics"),s("p",{class:"text-sm text-gray-600 mt-1"},"Most discussed topics")],-1)),s("div",X,[s("div",Y,[(l(!0),n(_,null,v(S.value,e=>(l(),n("div",{key:e.name,class:"flex items-center justify-between"},[s("div",Z,[s("div",{class:d(["w-2 h-2 rounded-full",e.color])},null,2),s("span",ss,a(e.name),1)]),s("span",es,a(e.percentage)+"%",1)]))),128))])])]),_:1})]),c(m,null,{default:i(()=>[s("div",ts,[s("div",as,[t[13]||(t[13]=s("div",null,[s("h3",{class:"text-lg font-semibold text-gray-900"},"Daily Analytics"),s("p",{class:"text-sm text-gray-600 mt-1"},"Detailed breakdown by day")],-1)),s("div",ls,[c(T,{modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=e=>h.value=e),placeholder:"Search analytics...",size:"sm",class:"w-64"},null,8,["modelValue"])])])]),s("div",os,[s("table",ns,[t[15]||(t[15]=s("thead",{class:"table-header"},[s("tr",null,[s("th",{class:"table-header-cell"},"Date"),s("th",{class:"table-header-cell"},"Sessions"),s("th",{class:"table-header-cell"},"Users"),s("th",{class:"table-header-cell"},"Messages"),s("th",{class:"table-header-cell"},"Avg Response Time"),s("th",{class:"table-header-cell"},"Satisfaction")])],-1)),s("tbody",rs,[x.value?(l(),n("tr",is,[...t[14]||(t[14]=[s("td",{colspan:"6",class:"table-cell text-center py-8"},[s("div",{class:"flex items-center justify-center space-x-2"},[s("div",{class:"spinner w-5 h-5"}),s("span",{class:"text-sm text-gray-500"},"Loading analytics...")])],-1)])])):(l(!0),n(_,{key:1},v(y.value,e=>(l(),n("tr",{key:e.date,class:"table-row"},[s("td",cs,[s("div",ds,a(D(e.date)),1),s("div",ms,a(j(e.date)),1)]),s("td",us,[s("div",gs,a(e.sessions.toLocaleString()),1),s("div",{class:d(["text-sm",e.sessions_growth>0?"text-success-500":"text-error-500"])},a(e.sessions_growth>0?"+":"")+a(e.sessions_growth)+"% ",3)]),s("td",xs,[s("div",vs,a(e.users.toLocaleString()),1),s("div",{class:d(["text-sm",e.users_growth>0?"text-success-500":"text-error-500"])},a(e.users_growth>0?"+":"")+a(e.users_growth)+"% ",3)]),s("td",_s,[s("div",hs,a(e.messages.toLocaleString()),1),s("div",{class:d(["text-sm",e.messages_growth>0?"text-success-500":"text-error-500"])},a(e.messages_growth>0?"+":"")+a(e.messages_growth)+"% ",3)]),s("td",ps,[s("div",ys,a(e.avg_response_time)+"s",1),s("div",{class:d(["text-sm",e.response_time_trend<0?"text-success-500":"text-error-500"])},a(e.response_time_trend>0?"+":"")+a(e.response_time_trend)+"% ",3)]),s("td",fs,[s("div",bs,[s("div",ws,a(e.satisfaction)+"%",1),s("div",ks,[s("div",{class:d(["h-2 rounded-full",L(e.satisfaction)]),style:A({width:e.satisfaction+"%"})},null,6)])])])]))),128))])])])]),_:1})]),_:1}))}});export{Vs as default};
