import{e as _,r as n,o as S,v as C,x as V,h as l,j as s,i as w,t as i,y as B,z as m,A as b,B as L,l as h,w as y,m as U,s as x,g as d}from"./vendor-ct0Dgaa7.js";import{u as q,a as A}from"./index-vE_pF-Xr.js";import"./utils-NIGUFBhG.js";const I={class:"login-container"},N={class:"login-box"},j={key:0,class:"error-message"},D={key:1,class:"success-message"},P={class:"input-group"},R={class:"input-group"},T={class:"input-group",style:{"flex-direction":"row","align-items":"center",gap:"0.5rem","margin-bottom":"1rem"}},z=["disabled"],E={class:"extra-links"},H=_({__name:"Login",setup(F){const p=V(),v=C(),g=q(),{success:k}=A(),o=n({username:"",password:"",rememberMe:!1}),t=n(""),u=n(""),a=n(!1),M=async()=>{if(!o.value.username||!o.value.password){t.value="Please fill in all fields";return}a.value=!0,t.value="";try{await g.login({username:o.value.username,password:o.value.password,remember_me:o.value.rememberMe}),k("Login successful!","Welcome back!"),p.push("/dashboard")}catch(c){t.value=c.message||"Invalid username or password"}finally{a.value=!1}};return S(()=>{v.query.message&&(u.value=v.query.message),g.isAuthenticated&&p.push("/dashboard")}),(c,e)=>{const f=U("router-link");return d(),l("div",I,[s("div",N,[e[9]||(e[9]=s("div",{class:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center mx-auto mb-6"},[s("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),e[10]||(e[10]=s("h2",null,"Sign In to Your Account",-1)),t.value?(d(),l("div",j,i(t.value),1)):w("",!0),u.value?(d(),l("div",D,i(u.value),1)):w("",!0),s("form",{onSubmit:B(M,["prevent"])},[s("div",P,[e[3]||(e[3]=s("label",{for:"username"},"Username",-1)),m(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.username=r),type:"text",id:"username",name:"username",required:"",autocomplete:"username"},null,512),[[b,o.value.username]])]),s("div",R,[e[4]||(e[4]=s("label",{for:"password"},"Password",-1)),m(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.value.password=r),type:"password",id:"password",name:"password",required:"",autocomplete:"current-password"},null,512),[[b,o.value.password]])]),s("div",T,[m(s("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.value.rememberMe=r),type:"checkbox",id:"remember_me",name:"remember_me",value:"true",style:{width:"auto",height:"auto"}},null,512),[[L,o.value.rememberMe]]),e[5]||(e[5]=s("label",{for:"remember_me",style:{"margin-bottom":"0","font-weight":"normal",cursor:"pointer"}},"Remember Me",-1))]),s("button",{type:"submit",disabled:a.value},i(a.value?"Signing In...":"Sign In"),9,z)],32),s("div",E,[h(f,{to:"/forgot-password"},{default:y(()=>[...e[6]||(e[6]=[x("Forgot Password?",-1)])]),_:1}),e[8]||(e[8]=s("br",null,null,-1)),h(f,{to:"/signup"},{default:y(()=>[...e[7]||(e[7]=[x("Don't have an account? Sign Up",-1)])]),_:1})])])])}}});export{H as default};
